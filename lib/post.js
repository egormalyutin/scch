var READ,args,chatter,colors,exec,fs,lib,message,myIP,nick,path,port,request,send;myIP=require("my-ip"),colors=require("colors"),args=process.argv.slice(2),console.log("=============================================".cyan),console.log("Your "+"IPv6".yellow+" is "+myIP("IPv6").green),console.log("Your "+"IPv4".yellow+" is "+myIP("IPv4").green),console.log("Port".yellow+": "+((args[3]||2467)+"").magenta),console.log("=============================================".cyan),READ=function(e,r){var s,o,t;return o=null,s=require("readline"),t=s.createInterface({input:process.stdin,output:process.stdout}),t.question(e,function(e){return t.close(),r(e)})},exec=require("child_process").exec,request=require("request"),path=require("path"),fs=require("fs"),lib=path.join(path.dirname(fs.realpathSync(__filename)),"../lib"),send=function(e,r,s){var o;return o=2467,request.post({url:"http://"+r+":"+o,form:{message:s,nick:e.blue}}),request.post({url:"http://127.0.0.1:"+o,form:{message:s,nick:"You".blue}}),READ(">>> ".blue,function(s){return send(e,r,s)})},args[0]?(chatter=args[0],message=args[2],nick=args[1],port=args[3]||2467,request.post({url:"http://"+chatter+":"+port,form:{message:message,nick:nick.blue}}),request.post({url:"http://127.0.0.1:"+port,form:{message:message,nick:"You".blue}})):READ("Your "+"nickname".yellow+": ",function(e){return READ("Your "+"chatter's IP".yellow+": ",function(r){return exec("start node "+lib+"/server "+r),console.log("Enter "+"message".yellow+":"),READ(">>> ".blue,function(s){return send(e,r,s)})})});